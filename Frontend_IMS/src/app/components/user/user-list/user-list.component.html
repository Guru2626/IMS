<div class="container mt-5">
  <h3 class="mb-4 fw-bold text-center">Users List</h3>
   <button class="btn btn-secondary btn-sm" (click)="goBack()">
      ‚Üê Back
    </button>

  <div *ngIf="errorMsg" class="alert alert-danger text-center">{{ errorMsg }}</div>

  <!-- üîç Search Bar -->
  <div class="d-flex justify-content-end mb-3">
    <div class="input-group w-25">
      <span class="input-group-text bg-white border-end-0">
        <i class="bi bi-search"></i>
      </span>
      <input
        type="text"
        class="form-control border-start-0"
        placeholder="Search by name or email"
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()">
    </div>
  </div>

  <!-- üßæ Users Table -->
  <div class="table-responsive shadow rounded">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Role</th>
          <th class="text-center">Actions</th>
          <th class="text-center">Delete</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers">
          <td>{{ user.userId }}</td>
          <td>{{ user.userName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span class="badge"
                  [ngClass]="{
                    'bg-success': user.roleName === 'Admin',
                    'bg-primary': user.roleName === 'Manager',
                    'bg-secondary': user.roleName === 'Staff'
                  }">
              {{ user.roleName }}
            </span>
          </td>
          <td class="text-center">
            <button class="btn btn-sm btn-outline-primary"
                    (click)="promote(user.userId)"
                    [disabled]="user.roleName !== 'Staff'">
              Promote
            </button>
          </td>
          <td class="text-center">
  

  <!-- Delete Button -->
  <button class="btn btn-sm btn-outline-danger"
          (click)="deleteUser(user.userId)">
    <i class="bi-trash"></i> 
  </button>
</td>

        </tr>
      </tbody>
    </table>
  </div>
</div>
